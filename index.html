<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bast√≥n Trekking ‚Ä¢ Parchados</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --sun-1:#FA5D1E;
      --sun-2:#FCA72C;
      --sun-3:#EC6B3E;
      --sun-4:#B03725;
      --sun-5:#FFCF4A;
      --sun-6:#7A1C17;
      --bg:#fff;
      --text:#111;
      --muted:#666;
      --accent:var(--sun-1);
      --card-radius:14px;
      --max-width:980px;
    }
    *{box-sizing:border-box;font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
    body{margin:0;background:linear-gradient(180deg, rgba(255,250,246,1) 0%, rgba(255,255,255,1) 100%); color:var(--text); -webkit-font-smoothing:antialiased;}
    .wrap{max-width:var(--max-width);margin:28px auto;padding:20px;}
    header{display:flex;align-items:center;gap:18px;margin-bottom:18px;}
    header img.logo{height:62px;}
    .brand{font-weight:700;font-size:20px;letter-spacing:1px;}
    .badge{display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,0.12);font-weight:600;margin-bottom:8px;font-size:13px}
    .hero h1{margin:6px 0 8px;font-size:28px;line-height:1.05}
    .hero p.lead{margin:0 0 14px;opacity:0.95}
    .price-row{display:flex;align-items:center;gap:12px}
    .old-price{text-decoration:line-through;opacity:0.95;background:rgba(255,255,255,0.12);padding:6px 10px;border-radius:8px;font-weight:600}
    .new-price{font-size:26px;font-weight:800;background:#fff;color:var(--sun-4);padding:8px 14px;border-radius:12px}
    .cta{display:flex;gap:10px;margin-top:14px;align-items:center}
    .btn-primary{background:var(--sun-6);color:#fff;padding:12px 15px;border-radius:12px;border:0;font-weight:700;cursor:pointer;box-shadow:0 8px 22px rgba(122,28,23,0.18)}
    .btn-outline{background:transparent;color:#fff;padding:10px 12px;border-radius:12px;border:2px solid rgba(255,255,255,0.16);cursor:pointer}
    .countdown{margin-top:14px;background:rgba(255,255,255,0.12);padding:10px;border-radius:10px;display:inline-block}
    /* benefits */
    .grid3{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin:18px 0}
    .card{background:#fff;border-radius:14px;padding:16px;box-shadow:0 8px 20px rgba(10,10,10,0.05)}
    .card h4{margin:0 0 8px}
    /* product details */
    .details{display:flex;gap:18px;align-items:flex-start;margin-bottom:18px}
    .details .left{flex:1}
    .details .right{width:360px}
.specs {
  background: linear-gradient(135deg, var(--sun-2), var(--sun-1), var(--sun-4));
  color: #fff;
  padding: 18px;
  border-radius: 18px;
  box-shadow: 0 10px 28px rgba(250, 93, 30, 0.25);
  position: relative;
  overflow: hidden;
}

/* üîπ Sutil brillo decorativo en esquina superior */
.specs::before {
  content: "";
  position: absolute;
  top: -40px;
  right: -40px;
  width: 120px;
  height: 120px;
  background: radial-gradient(circle at center, rgba(255,255,255,0.35), transparent 70%);
  transform: rotate(25deg);
  pointer-events: none;
}

/* üîπ Ajustes internos */
.specs h3 {
  margin-top: 0;
  margin-bottom: 10px;
  font-weight: 700;
  font-size: 22px;
}

.specs p,
.specs label,
.specs .small {
  color: rgba(255,255,255,0.9);
}

.specs input,
.specs select,
.specs textarea {
  background: rgba(255,255,255,0.95);
  border: none;
  color: #333;
}

.btn-submit {
  background: #fff;
  color: var(--sun-6);
  font-weight: 800;
  box-shadow: 0 6px 20px rgba(255,255,255,0.2);
}
.btn-submit:hover {
  background: var(--sun-5);
  color: #222;
}

    /* form */
    form .row{display:flex;gap:10px;margin-bottom:10px}
    input[type="text"],input[type="email"],select,textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #e6e6e6}
    select.flag{width:140px}
    .phone-wrap{display:flex;gap:8px}
    .flag-select{width:96px;padding:0 8px;display:flex;align-items:center;gap:8px}
    .country-flag{width:22px;height:16px;object-fit:cover}
    .small{font-size:13px;color:var(--muted)}
    .submit-wrap{display:flex;gap:12px;align-items:center}
    .btn-submit{background:var(--sun-1);color:#fff;padding:12px 14px;border-radius:10px;border:0;cursor:pointer;font-weight:700}
    footer{margin-top:20px;padding:18px;border-radius:12px;background:linear-gradient(180deg, rgba(255,250,246,1), rgba(255,252,240,1));display:flex;justify-content:space-between;align-items:center}
    .trust{font-size:13px;color:var(--muted)}
   /* === CORRECCI√ìN DE ALTURA DEL HERO === */
.hero {
  display: grid;
  grid-template-columns: 1fr 420px;
  align-items: stretch;
  max-width: 980px;
  margin: 0 auto;
  padding: 0;
  min-height: 480px; /* üîπ fija altura igualada */
}

/* Ambos lados deben ocupar toda la altura */
.hero-left,
.hero-right {
  height: 100%;
}

/* Elimina espacios internos que desalinean */
.hero-left {
  padding: 32px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  border-radius: 18px 0 0 18px;
  background: linear-gradient(135deg, var(--sun-2), var(--sun-1));
  color: #fff;
  box-shadow: 0 10px 30px rgba(250, 90, 20, 0.12);
}

.hero-right {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  background: #fff;
  border-radius: 0 18px 18px 0;
  box-shadow: 0 10px 30px rgba(10, 10, 10, 0.06);
  overflow: hidden;
  padding: 0;
}

/* Imagen principal ocupa la mitad superior */
.product-image {
  flex: 1;
  width: 100%;
  background-size: cover;
  background-position: center;
}

/* Galer√≠a compacta al final del hero */
.gallery {
  padding: 12px 0;
  background: #fff;
}

/* RESPONSIVE */
@media (max-width: 920px) {
  .hero {grid-template-columns: 1fr;
    min-height: auto;}
  .hero-left {border-radius: 18px 18px 0 0;}
  .hero-right {border-radius: 0 0 18px 18px;}
  .product-image {height: 260px;}}


    /* üîß Ajustar espacios verticales entre secciones */
section {
  margin-top: 20px;
  margin-bottom: 10px;
  padding-top: 10px;
  padding-bottom: 10px;
}

/* üîß Ajustar t√≠tulos dentro de secciones */
section h2, section h3 {
  margin-top: 10px;
  margin-bottom: 8px;
}

/* üîß Compactar p√°rrafos y textos */
section p {
  margin-top: 6px;
  margin-bottom: 6px;
  line-height: 1.4; /* m√°s compacto pero legible */
}

/* üîß Si usas tarjetas o bloques tipo info o caracter√≠sticas */
.card, .feature, .info-box, .gallery {
  margin-top: 10px;
  margin-bottom: 10px;
  padding: 12px;
}

/* üîß Opcional: que el hero no ocupe tanto */
.hero {
  padding: 20px 0;
}

/* üîß Elimina espacios grandes residuales en contenedores */
main, .container {
  margin: 0;
  padding: 0;
}


    /* === GALER√çA / CARRUSEL === */
.gallery {
  margin: 0;
  padding: 10px;
  text-align: center;
}

.gallery h2 {
  margin-bottom: 10px;
}

.carousel {
  position: relative;
  width: 100%;
  max-width: 420px;
  margin: 0 auto;
  overflow: hidden;
  border-radius: 14px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.1);
}

.carousel-track {
  display: flex;
  transition: transform 0.5s ease;
}

.carousel img {
  width: 100%;
  height: 280px;
  object-fit: cover;
  border-radius: 14px;
  flex-shrink: 0;
}

.carousel button {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(250,93,30,0.8);
  color: white;
  border: none;
  padding: 10px 14px;
  border-radius: 50%;
  cursor: pointer;
  font-size: 18px;
  z-index: 2;
}

.carousel button:hover {
  background: rgba(250,93,30,1);
}

.carousel .prev { left: 10px; }
.carousel .next { right: 10px; }

@media (max-width: 600px) {
  .carousel img { height: 220px; }
  .carousel button { padding: 8px 12px; }
}

/* === Correcci√≥n m√≥vil para pedido r√°pido === */
@media (max-width: 600px) {
  .details {
    flex-direction: column;
    align-items: stretch;
  }

  .details .right {
    width: 100%;
    margin-top: 12px;
  }

  /* Ajuste del bloque naranja de pedido r√°pido */
  .pedido-rapido, 
  .details .right form, 
  .details .right .card {
    width: 100%;
    margin: 0;
    padding: 14px;
    border-radius: 14px;
    box-sizing: border-box;
  }

  /* Que no quede flotando ni pegado */
  .details .right {
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }

  /* Opcional: margen superior entre secciones */
  section, .card, .gallery {
    margin-top: 10px;
  }
}


  </style>
</head>
<body>

<div class="wrap">
  <header>
    <img src="img/logo.png" alt="Parchados" class="logo">
    <div>
      <div class="brand">Parchados ‚Ä¢ Juntos hacia lo alto</div>
      <div class="small">Equipamiento para tus aventuras en monta√±as y m√°s</div>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-left">
      <div class="badge">Oferta por tiempo limitado</div>
      <h1>Camina seguro, incluso de noche</h1>
      <p class="lead">Bast√≥n Trekking ajustable ‚Ä¢ Linterna LED ‚Ä¢ Br√∫jula ‚Ä¢ Sistema Anti-Shock ‚Äî perfecto para tus salidas Parchadas.</p>

      <div class="price-row">
        <div class="old-price">$99.000</div>
        <div class="new-price">$76.427</div>
        <div class="small" style="margin-left:auto">Env√≠o incluido ‚Ä¢ Stock limitado</div>
      </div>

      <div class="cta">
        <button class="btn-primary" id="jumpToForm">Pedir ahora</button>
        <button class="btn-outline" id="verMas">Ver detalles</button>
      </div>

      <div class="countdown" id="countdown">
        <strong>Oferta termina en:</strong>
        <div id="cd-timer" style="display:inline-block;margin-left:10px;font-weight:700"></div>
      </div>
    </div>

    <div class="hero-right">
      <div class="product-image" id="prodImg" style="background-image:url('img/product.jpg');"></div>

      <!-- SECCI√ìN GALER√çA -->
<section class="gallery">
  <h2>Explora el bast√≥n en acci√≥n</h2>

  <div class="carousel">
    <button class="prev">&#10094;</button>
    <div class="carousel-track">
      <img src="img/producto1.jpeg" alt="Bast√≥n trekking">
      <img src="img/producto2.jpeg" alt="Bast√≥n LED">
      <img src="img/producto3.jpeg" alt="Bast√≥n Resorte">
      <img src="img/producto4.jpeg" alt="Bast√≥n Extensible">
      <img src="img/producto5.jpeg" alt="Mango ergon√≥mico">
      <img src="img/producto6.jpeg" alt="Br√∫jula integrada">
      <img src="img/producto7.jpeg" alt="Detalle LED">
      <img src="img/producto8.jpeg" alt="Uso en sendero">
      <img src="img/producto9.jpeg" alt="Accesorios del bast√≥n">
      <img src="img/producto10.jpeg" alt="Empaque completo">
    </div>
    <button class="next">&#10095;</button>
  </div>
</section>

      <div style="display:flex;gap:10px;align-items:center;justify-content:space-between">
        <div style="font-weight:700">Bast√≥n Trekking ‚Ä¢ Parchados</div>
        <div class="small">Entrega en todo Colombia ‚Ä¢ Env√≠o incluido</div>
      </div>

      <div style="margin-top:10px" class="small">La informaci√≥n de env√≠o y confirmaci√≥n llegar√° autom√°ticamente despu√©s de hacer tu pedido.</div>
    </div>
  </section>

  <!-- BENEFICIOS -->
  <section>
    <div class="grid3">
      <div class="card">
        <h4>Aventura Extrema</h4>
        <p class="small">Soporte y estabilidad en terrenos dif√≠ciles. Extensible y resistente ‚Äî pensado para exploradores reales.</p>
      </div>
      <div class="card">
        <h4>Seguridad Nocturna</h4>
        <p class="small">Linterna LED integrada para tus rutas al atardecer o noche. Visibilidad y confianza en cada paso.</p>
      </div>
      <div class="card">
        <h4>Confort Premium</h4>
        <p class="small">Mango ergon√≥mico y sistema anti-shock para que tus manos no sufran en rutas largas.</p>
      </div>
    </div>
  </section>

  <!-- DETAILS + FORM -->
  <section class="details">
    <div class="left">
      <div class="card">
        <h3>Detalles del producto</h3>
        <p class="small">Eje de carbono, linterna LED, br√∫jula integrada, extensi√≥n 50‚Äì110 cm, peso ~320 g. Ideal para trekking, senderismo y viajes.</p>

        <ul class="small" style="margin:10px 0 0 18px">
          <li>Sistema Anti-Shock patentado</li>
          <li>Mango ergon√≥mico con correa ajustable</li>
          <li>Punta en carburo flex para mejor agarre</li>
        </ul>

        <div style="margin-top:12px" class="small">Precio promocional por lanzamiento: <strong>$76.427</strong> ‚Äî env√≠o ya incluido.</div>
        <div style="margin-top:12px" class="small">Promoci√≥n v√°lida por 25 d√≠as.</div>
      </div>
      <div class="media">
      <video controls>
        <source src="img/video.mp4" type="video/mp4">
        Tu navegador no soporta videos.
      </video>
      </div>

      <div style="margin-top:12px" class="card">
        <h3>¬øPor qu√© comprar con Parchados?</h3>
        <p class="small">    Detr√°s de cada producto hay pasi√≥n por la aventura, el movimiento y la naturaleza.  
    Elegimos art√≠culos que nosotros mismos usar√≠amos en nuestras salidas, garantizando calidad </p>
        <ul class="small" style="margin:10px 0 0 18px">
          <li><strong>Compra protegida:</strong> tus pagos y datos est√°n seguros.</li>
          <li><strong>Garant√≠a de 30 d√≠as:</strong> cubre tanto el env√≠o como la calidad del producto.</li>
          <li><strong>Env√≠os r√°pidos en Bogot√°</strong> y cobertura nacional.</li>
          <li><strong>Soporte directo y humano,</strong> sin bots ni demoras.</li>
          <li><strong>Probado por aventureros reales:</strong> usamos los mismos productos en nuestras salidas.</li>
          <li><strong>Apoyas una comunidad local</strong> que promueve el deporte, la conexi√≥n con l
        </ul>
        <p class="small" style="margin-top:10px">
    üåø Cuando compras con <strong>Parchados</strong>, no solo obtienes un producto: recibes confianza, respaldo y energ√≠a aventurera.
  </p>
      </div>
    </div>

    <!-- FORM -->
    <div class="right">
      <div class="specs">
        <h3>Pedido r√°pido</h3>
        <p class="small">Completa tus datos y te confirmamos por WhatsApp. Guardamos tu pedido autom√°ticamente.</p>

        <form id="orderForm">
          <!-- Product hidden -->
          <input type="hidden" name="product" value="Bast√≥n Trekking ‚Ä¢ Parchados">
          <input type="hidden" name="price" value="76427">

          <div class="row">
            <input type="text" name="firstName" placeholder="Nombre" required>
            <input type="text" name="lastName" placeholder="Apellido" required>
          </div>

          <label class="small">Tel√©fono</label>
          <div class="row phone-wrap">
            <select id="country" name="country" required class="flag-select">
              <option value="+57" data-flag="üá®üá¥">üá®üá¥ Colombia (+57)</option>
              <option value="+52" data-flag="üá≤üáΩ">üá≤üáΩ M√©xico (+52)</option>
              <option value="+51" data-flag="üáµüá™">üáµüá™ Per√∫ (+51)</option>
            </select>
            <input type="text" name="phone" placeholder="Ej: 3123456789" required>
          </div>

          <div class="row">
            <input type="email" name="email" placeholder="Correo electr√≥nico" required>
          </div>

          <div class="row">
            <input type="text" name="docType" placeholder="Tipo de documento (C.C.)" required>
            <input type="text" name="docNumber" placeholder="N√∫mero de documento" required>
          </div>

          <!-- DEPARTAMENTOS -->
          <div class="row">
            <select id="department" name="department" required>
              <option value="">Selecciona departamento</option>
              <!-- Lista completa de departamentos de Colombia -->
              <option value="Amazonas">Amazonas</option>
              <option value="Antioquia">Antioquia</option>
              <option value="Arauca">Arauca</option>
              <option value="Atl√°ntico">Atl√°ntico</option>
              <option value="Bogot√° D.C.">Bogot√° D.C.</option>
              <option value="Bol√≠var">Bol√≠var</option>
              <option value="Boyac√°">Boyac√°</option>
              <option value="Caldas">Caldas</option>
              <option value="Caquet√°">Caquet√°</option>
              <option value="Casanare">Casanare</option>
              <option value="Cauca">Cauca</option>
              <option value="Cesar">Cesar</option>
              <option value="Choc√≥">Choc√≥</option>
              <option value="C√≥rdoba">C√≥rdoba</option>
              <option value="Cundinamarca">Cundinamarca</option>
              <option value="Guain√≠a">Guain√≠a</option>
              <option value="Guaviare">Guaviare</option>
              <option value="Huila">Huila</option>
              <option value="La Guajira">La Guajira</option>
              <option value="Magdalena">Magdalena</option>
              <option value="Meta">Meta</option>
              <option value="Nari√±o">Nari√±o</option>
              <option value="Norte de Santander">Norte de Santander</option>
              <option value="Putumayo">Putumayo</option>
              <option value="Quind√≠o">Quind√≠o</option>
              <option value="Risaralda">Risaralda</option>
              <option value="San Andr√©s y Providencia">San Andr√©s y Providencia</option>
              <option value="Santander">Santander</option>
              <option value="Sucre">Sucre</option>
              <option value="Tolima">Tolima</option>
              <option value="Valle del Cauca">Valle del Cauca</option>
              <option value="Vaup√©s">Vaup√©s</option>
              <option value="Vichada">Vichada</option>
            </select>
          </div>

          <div class="row">
            <select id="city" name="city" required>
              <option value="">Selecciona ciudad</option>
            </select>
          </div>

          <div class="row">
            <input type="text" name="address" placeholder="Direcci√≥n (calle, #, barrio)" required>
          </div>

          <div class="row">
            <input type="text" name="addressExtra" placeholder="Casa, apartamento, piso (info adicional)">
          </div>

          <div class="row">
            <label class="small">M√©todo de pago</label>
          </div>
          <div class="row" style="margin-bottom:12px">
            <label style="display:flex;gap:8px;align-items:center"><input type="radio" name="payment" value="Contra entrega" checked> Contra entrega</label>
            <label style="display:flex;gap:8px;align-items:center"><input type="radio" name="payment" value="Pago anticipado"> Pago anticipado</label>
          </div>

          <div class="row">
            <textarea name="notes" placeholder="Informaci√≥n adicional (opcional)" rows="3"></textarea>
          </div>

          <div class="row submit-wrap">
            <button type="submit" class="btn-submit">Enviar pedido</button>
            <div class="small">Te confirmamos por WhatsApp en menos de 24h</div>
          </div>

          <div id="formMsg" class="small" style="margin-top:8px;color:green;display:none"></div>
        </form>
      </div>
    </div>
  </section>

  <footer>
    <div class="trust">üîí Pago seguro con Epaico / Mercado Pago ‚Ä¢ Env√≠o incluido</div>
    <div class="small">¬© Parchados ‚Ä¢ Juntos hacia lo alto</div>
  </footer>
</div>

<script>
/* ============== CONFIGURA AQU√ç ==============
  - REEMPLAZA la constante SCRIPT_URL por la URL de tu Web App (Google Apps Script)
  - El Web App debe aceptar POST y guardar en la hoja.
==============================================*/
const SCRIPT_URL = "REEMPLAZAR_POR_URL_DE_TU_WEBAPP";
/* ============================================ */

/* contador (25 d√≠as desde la primera carga del usuario)
   Se guardar√° en localStorage para que cada visitante tenga su cuenta regresiva persistente  */
(function(){
  const KEY = 'parchados_deadline';
  let deadline = localStorage.getItem(KEY);
  if(!deadline){
    const now = new Date().getTime();
    const ms25d = 25 * 24 * 60 * 60 * 1000;
    deadline = now + ms25d;
    localStorage.setItem(KEY, deadline);
  } else deadline = parseInt(deadline);

  function updateTimer(){
    const now = new Date().getTime();
    const diff = deadline - now;
    if(diff <= 0){
      document.getElementById('cd-timer').innerText = "¬°Promoci√≥n finalizada!";
      return;
    }
    const d = Math.floor(diff / (1000*60*60*24));
    const h = Math.floor((diff % (1000*60*60*24))/(1000*60*60));
    const m = Math.floor((diff % (1000*60*60))/(1000*60));
    const s = Math.floor((diff % (1000*60))/1000);
    document.getElementById('cd-timer').innerText = d + "d " + h + "h " + m + "m " + s + "s";
  }
  updateTimer();
  setInterval(updateTimer,1000);
})();

/* scroll to form */
document.getElementById('jumpToForm').addEventListener('click', e=>{
  const form = document.getElementById('orderForm');
  form.scrollIntoView({behavior:'smooth', block:'center'});
});

/* ver mas scroll */
document.getElementById('verMas').addEventListener('click', e=>{
  document.querySelector('.details').scrollIntoView({behavior:'smooth', block:'start'});
});

/* departamento -> ciudades (mapa con ciudades principales por departamento) */
const citiesByDept = {
  "Amazonas":["Leticia"],
  "Antioquia":["Medell√≠n","Envigado","Bello","Rionegro","Santa Fe de Antioquia"],
  "Arauca":["Arauca"],
  "Atl√°ntico":["Barranquilla","Sabanalarga","Soledad"],
  "Bogot√° D.C.":["Bogot√°"],
  "Bol√≠var":["Cartagena","Magangu√©"],
  "Boyac√°":["Tunja","Duitama","Sogamoso"],
  "Caldas":["Manizales","La Dorada"],
  "Caquet√°":["Florencia"],
  "Casanare":["Yopal","Aguazul"],
  "Cauca":["Popay√°n","Pat√≠a"],
  "Cesar":["Valledupar"],
  "Choc√≥":["Quibd√≥"],
  "C√≥rdoba":["Monter√≠a","Mo√±itos"],
  "Cundinamarca":["Soacha","Zipaquir√°","Girardot","Fusagasug√°"],
  "Guain√≠a":["In√≠rida"],
  "Guaviare":["San Jos√© del Guaviare"],
  "Huila":["Neiva","Pitalito"],
  "La Guajira":["Riohacha","Maicao"],
  "Magdalena":["Santa Marta","Ci√©naga"],
  "Meta":["Villavicencio","Acac√≠as"],
  "Nari√±o":["Pasto","Tumaco"],
  "Norte de Santander":["C√∫cuta","Oca√±a"],
  "Putumayo":["Mocoa"],
  "Quind√≠o":["Armenia"],
  "Risaralda":["Pereira","Dosquebradas"],
  "San Andr√©s y Providencia":["San Andr√©s"],
  "Santander":["Bucaramanga","Floridablanca"],
  "Sucre":["Sincelejo","Corozal"],
  "Tolima":["Ibagu√©","Melgar"],
  "Valle del Cauca":["Cali","Palmira","Buenaventura"],
  "Vaup√©s":["Mit√∫"],
  "Vichada":["Puerto Carre√±o"]
};

const deptEl = document.getElementById('department');
const cityEl = document.getElementById('city');
deptEl.addEventListener('change', e=>{
  const val = e.target.value;
  cityEl.innerHTML = '<option value="">Selecciona ciudad</option>';
  if(citiesByDept[val]){
    citiesByDept[val].forEach(c=>{
      const o = document.createElement('option'); o.value = c; o.textContent = c;
      cityEl.appendChild(o);
    });
  }
});

/* FORM SUBMIT -> enviar a Google Apps Script */
const form = document.getElementById('orderForm');
form.addEventListener('submit', async (ev) => {
  ev.preventDefault();
  if(!SCRIPT_URL || SCRIPT_URL.includes("REEMPLAZAR_POR_URL")) {
    alert("A√∫n no configuraste la variable SCRIPT_URL en el c√≥digo. Sigue las instrucciones para obtener la URL del Web App.");
    return;
  }

  const data = new FormData(form);
  // construir objeto
  const payload = {};
  data.forEach((v,k)=> payload[k]=v);

  // agregar timestamp
  payload.timestamp = new Date().toISOString();

  try{
    const res = await fetch(SCRIPT_URL, {
      method: 'POST',
      mode: 'cors',
      headers:{'Content-Type':'application/json'},
      body: JSON.stringify(payload)
    });
    const json = await res.json();
    if(json.result && json.result === 'success'){
      document.getElementById('formMsg').style.display='block';
      document.getElementById('formMsg').innerText = "¬°Pedido registrado! En breve te confirmamos por WhatsApp.";
      // limpiar o mantener? dejar datos para que confirmen
      form.reset();
      setTimeout(()=> document.getElementById('formMsg').style.display='none',7000);
    } else {
      throw new Error('Error en guardar');
    }
  } catch(err){
    console.error(err);
    alert("Ocurri√≥ un error al enviar. Aseg√∫rate de haber configurado el Web App correctamente.");
  }
});

/* === CARRUSEL SIMPLE === */
const track = document.querySelector('.carousel-track');
const slides = Array.from(track.children);
const prevBtn = document.querySelector('.prev');
const nextBtn = document.querySelector('.next');

let currentIndex = 0;

function updateCarousel() {
  const slideWidth = slides[0].getBoundingClientRect().width;
  track.style.transform = `translateX(-${currentIndex * slideWidth}px)`;
}

nextBtn.addEventListener('click', () => {
  currentIndex = (currentIndex + 1) % slides.length;
  updateCarousel();
});

prevBtn.addEventListener('click', () => {
  currentIndex = (currentIndex - 1 + slides.length) % slides.length;
  updateCarousel();
});

window.addEventListener('resize', updateCarousel);

</script>

</body>
</html>
