<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Bast√≥n Trekking ‚Ä¢ Parchados</title>

<!-- üîç Descripci√≥n SEO -->
<meta name="description" content="Bast√≥n trekking con linterna LED, br√∫jula y sistema anti-shock. Compra segura y env√≠o incluido con Parchados.">

<!-- üì± Open Graph (para compartir en redes) -->
<meta property="og:title" content="Bast√≥n Trekking ‚Ä¢ Parchados">
<meta property="og:description" content="Camina seguro, incluso de noche. Oferta limitada con env√≠o incluido.">
<meta property="og:image" content="https://parchadosbogota.github.io/Baston-Trekking/img/ventabaston.jpg">
<meta property="og:type" content="product">
<meta property="og:url" content="https://parchadosbogota.github.io/Baston-Trekking/">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">

<!-- üê¶ Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Bast√≥n Trekking ‚Ä¢ Parchados">
<meta name="twitter:description" content="Camina seguro, incluso de noche. Oferta limitada con env√≠o incluido.">
<meta name="twitter:image" content="https://parchadosbogota.github.io/Baston-Trekking/img/ventabaston.jpg">


  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    /* CSS GLOBAL AND VARIABLES */
    :root {
      --sun-1: #FA5D1E;
      --sun-2: #FCA72C;
      --sun-3: #EC6B3E;
      --sun-4: #B03725;
      --sun-5: #FFCF4A;
      --sun-6: #7A1C17;
      --bg: #fff;
      --text: #111;
      --muted: #666;
      --accent: var(--sun-1);
      --card-radius: 14px;
      --max-width: 980px;
    }

    * {
      box-sizing: border-box;
      font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
    }

    body {
      margin: 0;
      background: linear-gradient(180deg, rgba(255, 250, 246, 1) 0%, rgba(255, 255, 255, 1) 100%);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
    }

    .wrap {
      max-width: var(--max-width);
      margin: 28px auto;
      padding: 20px;
    }

    header {
      display: flex;
      align-items: center;
      gap: 18px;
      margin-bottom: 18px;
    }

    header img.logo {
      height: 62px;
    }

    .brand {
      font-weight: 700;
      font-size: 20px;
      letter-spacing: 1px;
    }

    .badge {
      display: inline-block;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.12);
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 13px
    }

    .hero h1 {
      margin: 6px 0 8px;
      font-size: 28px;
      line-height: 1.05
    }

    .hero p.lead {
      margin: 0 0 14px;
      opacity: 0.95
    }

    .price-row {
      display: flex;
      align-items: center;
      gap: 12px
    }

    .old-price {
      text-decoration: line-through;
      opacity: 0.95;
      background: rgba(255, 255, 255, 0.12);
      padding: 6px 10px;
      border-radius: 8px;
      font-weight: 600
    }

    .new-price {
      font-size: 26px;
      font-weight: 800;
      background: #fff;
      color: var(--sun-4);
      padding: 8px 14px;
      border-radius: 12px
    }

    .cta {
      display: flex;
      gap: 10px;
      margin-top: 14px;
      align-items: center
    }

    .btn-primary {
      background: var(--sun-6);
      color: #fff;
      padding: 12px 15px;
      border-radius: 12px;
      border: 0;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 8px 22px rgba(122, 28, 23, 0.18);
      /* Add transition for hover effect */
      transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
    }

    .btn-primary:hover {
      background: var(--sun-4); /* Darken a bit on hover */
      transform: translateY(-2px); /* Slight lift effect */
      box-shadow: 0 10px 25px rgba(122, 28, 23, 0.25); /* Enhanced shadow */
    }

    .btn-outline {
      background: transparent;
      color: #fff;
      padding: 10px 12px;
      border-radius: 12px;
      border: 2px solid rgba(255, 255, 255, 0.16);
      cursor: pointer;
      transition: background 0.3s ease, border-color 0.3s ease;
    }

    .btn-outline:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(255, 255, 255, 0.25);
    }

    .countdown {
      margin-top: 14px;
      background: rgba(255, 255, 255, 0.12);
      padding: 10px;
      border-radius: 10px;
      display: inline-block
    }

    /* BENEFITS */
    .grid3 {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin: 18px 0
    }

    .card {
      background: #fff;
      border-radius: 14px;
      padding: 16px;
      box-shadow: 0 8px 20px rgba(10, 10, 10, 0.05)
    }

    .card h4 {
      margin: 0 0 8px
    }

    /* PRODUCT DETAILS */
    .details {
      display: flex;
      gap: 18px;
      align-items: flex-start;
      margin-bottom: 18px
    }

    .details .left {
      flex: 1
    }

    .details .right {
      width: 360px
    }

    .specs {
      background: linear-gradient(135deg, var(--sun-2), var(--sun-1), var(--sun-4));
      color: #fff;
      padding: 18px;
      border-radius: 18px;
      box-shadow: 0 10px 28px rgba(250, 93, 30, 0.25);
      position: relative;
      overflow: hidden;
    }

    /* Subtle decorative glow in top corner */
    .specs::before {
      content: "";
      position: absolute;
      top: -40px;
      right: -40px;
      width: 120px;
      height: 120px;
      background: radial-gradient(circle at center, rgba(255, 255, 255, 0.35), transparent 70%);
      transform: rotate(25deg);
      pointer-events: none;
    }

    /* Internal adjustments */
    .specs h3 {
      margin-top: 0;
      margin-bottom: 10px;
      font-weight: 700;
      font-size: 22px;
    }

    .specs p,
    .specs label,
    .specs .small {
      color: rgba(255, 255, 255, 0.9);
    }

    .specs input,
    .specs select,
    .specs textarea {
      background: rgba(255, 255, 255, 0.95);
      border: none;
      color: #333;
    }

    .btn-submit {
      background: #fff;
      color: var(--sun-6);
      font-weight: 800;
      box-shadow: 0 6px 20px rgba(255, 255, 255, 0.2);
    }

    .btn-submit:hover {
      background: var(--sun-5);
      color: #222;
    }

    /* FORM */
    form .row {
      display: flex;
      gap: 10px;
      margin-bottom: 10px
    }

    input[type="text"],
    input[type="email"],
    select,
    textarea {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #e6e6e6
    }

    select.flag {
      width: 140px
    }

    .phone-wrap {
      display: flex;
      gap: 8px
    }

    .flag-select {
      width: 96px;
      padding: 0 8px;
      display: flex;
      align-items: center;
      gap: 8px
    }

    .country-flag {
      width: 22px;
      height: 16px;
      object-fit: cover
    }

    .small {
      font-size: 13px;
      color: var(--muted)
    }

    .submit-wrap {
      display: flex;
      gap: 12px;
      align-items: center
    }

    .btn-submit {
      background: var(--sun-6);
      color: #fff;
      padding: 12px 14px;
      border-radius: 10px;
      border: 0;
      cursor: pointer;
      font-weight: 700
    }

    /* HERO HEIGHT FIX */
    .hero {
      display: grid;
      grid-template-columns: 1fr 420px;
      align-items: stretch;
      max-width: 980px;
      margin: 0 auto;
      padding: 0;
      min-height: 480px; /* Fixed equal height */
    }

    /* Both sides must take full height */
    .hero-left,
    .hero-right {
      height: 100%;
    }

    /* Remove internal spaces that misalign */
    .hero-left {
      padding: 32px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      border-radius: 18px 0 0 18px;
      background: linear-gradient(135deg, var(--sun-2), var(--sun-1));
      color: #fff;
      box-shadow: 0 10px 30px rgba(250, 90, 20, 0.12);
    }

    .hero-right {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      background: #fff;
      border-radius: 0 18px 18px 0;
      box-shadow: 0 10px 30px rgba(10, 10, 10, 0.06);
      overflow: hidden;
      padding: 0;
    }

    /* Main image takes top half */
    .product-image {
      flex: 1;
      width: 100%;
      background-size: cover;
      background-position: center;
    }

    /* Compact gallery at end of hero */
    .gallery {
      padding: 12px 0;
      background: #fff;
    }

    /* RESPONSIVE */
    @media (max-width: 920px) {
      .hero {
        grid-template-columns: 20fr;
        min-height: auto;
      }

      .hero-left {
        border-radius: 18px 18px 0 0;
      }

      .hero-right {
        border-radius: 0 0 18px 18px;
      }

      .product-image {
        height: 260px;
      }
    }

    /* Adjust vertical spacing between sections */
    section {
      margin-top: 20px;
      margin-bottom: 10px;
      padding-top: 10px;
      padding-bottom: 10px;
    }

    /* Adjust titles within sections */
    section h2,
    section h3 {
      margin-top: 10px;
      margin-bottom: 8px;
    }

    /* Compact paragraphs and text */
    section p {
      margin-top: 6px;
      margin-bottom: 6px;
      line-height: 1.4;
    }

    /* If using cards or info/feature blocks */
    .card,
    .feature,
    .info-box,
    .gallery {
      margin-top: 10px;
      margin-bottom: 10px;
      padding: 12px;
    }

    /* Optional: hero doesn't take up as much space */
    .hero {
      padding: 20px 0;
    }

    /* Remove residual large spaces in containers */
    main,
    .container {
      margin: 0;
      padding: 0;
    }

    /* GALLERY / CAROUSEL */
    .carousel {
      position: relative;
      width: 100%;
      max-width: 420px;
      margin: 0 auto;
      overflow: hidden;
      border-radius: 14px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    }

    .carousel-track {
      display: flex;
      transition: transform 0.5s ease;
    }

    .carousel img {
      width: 100%;
      height: 280px;
      object-fit: cover;
      border-radius: 14px;
      flex-shrink: 0;
    }

    .carousel button {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(250, 93, 30, 0.8);
      color: white;
      border: none;
      padding: 10px 14px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 18px;
      z-index: 2;
    }

    .carousel button:hover {
      background: rgba(250, 93, 30, 1);
    }

    .carousel .prev {
      left: 10px;
    }

    .carousel .next {
      right: 10px;
    }

    @media (max-width: 600px) {
      .carousel img {
        height: 220px;
      }

      .carousel button {
        padding: 8px 12px;
      }
    }

    /* Mobile correction for quick order */
    @media (max-width: 600px) {
      .details {
        flex-direction: column;
        align-items: stretch;
      }

      .details .right {
        width: 100%;
        margin-top: 12px;
      }

      /* Adjust orange quick order block */
      .pedido-rapido,
      .details .right form,
      .details .right .card {
        width: 100%;
        margin: 0;
        padding: 14px;
        border-radius: 14px;
        box-sizing: border-box;
      }

      /* No floating or sticking */
      .details .right {
        display: flex;
        flex-direction: column;
        align-items: stretch;
      }

      /* Optional: top margin between sections */
      section,
      .card,
      .gallery {
        margin-top: 10px;
      }
    }

    /* FOOTER 1: TRUST BOX */
    .footer-trust {
      margin-top: 20px; /* Space from content above */
      padding: 18px;
      border-radius: 12px;
      background: linear-gradient(90deg, #00b37d, #25d366); /* green tones for verification */
      display: flex;
      justify-content: center; /* Center the content */
      align-items: center;
      gap: 20px;
      text-align: center;
      color: #fff;
      box-shadow: 0 3px 10px rgba(0, 179, 125, 0.4);
      flex-wrap: wrap; /* Allow content to wrap on smaller screens */
    }

    .footer-trust .trust-box {
      font-weight: 400;
      font-size: 1.05rem;
      line-height: 1.2;
      flex: 1;
      min-width: 260px; /* Minimum width for the trust message */
    }

    .footer-trust .trust-box .check {
      font-size: 1.4rem;
      margin-right: 4px;
    }

    .footer-trust .trust-box .details {
      display: block;
      font-size: 0.85rem;
      font-weight: 400;
      margin-top: 2px;
    }

    .footer-trust .small-text { /* Added for the second small text in this footer */
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.9); /* Lighter color for contrast */
      flex: 1;
      min-width: 200px;
      margin-top: 5px; /* Adjust spacing */
    }

    /* FOOTER 2: NAVIGATION AND COPYRIGHT */
    .footer-nav-copyright {
      background: linear-gradient(90deg, var(--sun-1), var(--sun-2));
      color: #fff;
      border-radius: 14px 14px 0 0;
      margin-top: 20px; /* Space between the two footers */
      font-family: 'Poppins', sans-serif;
      padding: 14px 10px;
    }

    .footer-nav-copyright .footer-content-inner { /* Renamed to avoid conflict */
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
      gap: 20px;
      text-align: center;
    }

    .footer-nav-copyright nav {
      display: flex;
      flex-wrap: wrap;
      gap: 18px;
      font-size: 14px;
      font-weight: 500;
      justify-content: center;
    }

    .footer-nav-copyright nav a {
      color: #fff;
      text-decoration: none;
    }

    .footer-nav-copyright p {
      font-size: 13px;
      color: rgba(255, 255, 255, 0.85);
      margin: 0;
      white-space: nowrap;
    }

    /* Mobile version for both footers */
    @media (max-width: 600px) {
      .footer-trust,
      .footer-nav-copyright .footer-content-inner {
        flex-direction: column;
        gap: 8px;
      }

      .footer-trust .trust-box,
      .footer-trust .small-text,
      .footer-nav-copyright nav,
      .footer-nav-copyright p {
        width: 100%;
        text-align: center;
      }

      .footer-nav-copyright nav {
        font-size: 13px;
        gap: 12px;
      }

      .footer-nav-copyright p {
        font-size: 11px;
      }
    }


    /* MODAL */
    .modal {
      display: none;
      position: fixed;
      z-index: 999;
      inset: 0;
      width: 100%;
      height: 100%;
      backdrop-filter: blur(6px);
      background-color: rgba(0, 0, 0, 0.4);
      overflow: hidden;
    }

    .modal-contenido {
      background: linear-gradient(145deg, var(--sun-1), var(--sun-3));
      margin: 5% auto;
      padding: 25px;
      border-radius: 20px;
      width: 90%;
      max-width: 450px;
      color: #fff;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
      position: relative;
      animation: aparecer 0.3s ease;
      max-height: 85vh;
      overflow-y: auto;
      scrollbar-width: thin;
    }

    .modal-contenido::-webkit-scrollbar {
      width: 6px;
    }

    .modal-contenido::-webkit-scrollbar-thumb {
      background: var(--sun-2);
      border-radius: 6px;
    }

    .cerrar {
      color: #fff;
      font-size: 28px;
      font-weight: bold;
      position: absolute;
      top: 10px;
      right: 18px;
      cursor: pointer;
      transition: 0.3s;
    }

    .cerrar:hover {
      color: #000;
    }

    @keyframes aparecer {
      from {
        transform: scale(0.9);
        opacity: 0;
      }
      to {
        transform: scale(1);
        opacity: 1;
      }
    }

    .boton-pedir {
      background: var(--sun-1);
      color: #fff;
      border: none;
      border-radius: 50px;
      padding: 12px 24px;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .boton-pedir:hover {
      background: var(--sun-2);
      transform: scale(1.05);
    }

    /* REVIEWS */
    .hidden {
      display: none;
    }

    .show-more {
      text-align: center;
      margin-top: 20px;
    }

    #showMoreBtn, #showLessBtn { /* Apply styles to both show/hide buttons */
      background: linear-gradient(90deg, var(--sun-1), var(--sun-2));
      color: #fff;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      margin: 5px; /* Add a small margin */
    }

    #showMoreBtn:hover, #showLessBtn:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 10px rgba(250, 93, 30, 0.4);
    }

    .review-summary {
      background: #fff;
      border-radius: 15px;
      padding: 15px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      margin-bottom: 25px;
      text-align: center;
    }

    .review-summary .average {
      margin-bottom: 15px;
    }

    .review-summary .avg-score {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--sun-1);
      display: block;
      line-height: 1;
    }

    .review-summary .avg-stars {
      font-size: 1.4rem;
      margin-top: 4px;
    }

    .review-summary .total-reviews {
      font-size: 0.9rem;
      color: #666;
    }

    /* Rating bars section */
    .rating-bars {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-top: 10px;
    }

    .bar-row {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .bar-label {
      width: 15px;
      text-align: right;
      font-weight: 600;
      color: #444;
      font-size: 0.95rem;
    }

    .bar {
      flex: 1;
      background: #eee;
      border-radius: 10px;
      height: 8px;
      overflow: hidden;
    }

    .bar .progress {
      height: 100%;
      background: linear-gradient(90deg, var(--sun-1), var(--sun-2));
      border-radius: 10px;
      transition: width 0.5s ease;
    }

    .review img {
      width: 90px;
      height: auto;
      border-radius: 10px;
      margin-top: 6px;
      margin-bottom: 4px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      object-fit: cover;
    }

    /* Styles for the floating button */
    .floating-button {
      position: fixed;
      bottom: 20px; /* Distance from the bottom of the viewport */
      right: 20px; /* Distance from the right of the viewport */
      z-index: 1000; /* Ensure it's above other content */
      padding: 12px 20px; /* Adjust padding for visual balance */
      border-radius: 12px; /* Consistent with other buttons */
      background: var(--sun-6); /* Same background color as btn-primary */
      color: #fff; /* White text color */
      font-weight: 700; /* Bold text */
      border: none; /* No border */
      cursor: pointer; /* Indicate it's clickable */
      box-shadow: 0 8px 22px rgba(122, 28, 23, 0.3); /* Stronger shadow to stand out */
      transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
    }

    .floating-button:hover {
      background: var(--sun-4);
      transform: translateY(-3px); /* Slightly more pronounced lift */
      box-shadow: 0 12px 28px rgba(122, 28, 23, 0.4);
    }

    /* For even more compact mobile view */
    @media (max-width: 480px) {
      .review img {
        width: 85px;
        border-radius: 8px;
        margin-top: 4px;
        margin-bottom: 2px;
      }
      .floating-button {
        bottom: 22px;
        right: 22px;
        padding: 20px 26px;
        font-size: 0.9rem;
      }
    }

    .floating-button {
  animation: shakeAlert 0.3s linear infinite;
}

@keyframes shakeAlert {
  0%, 100% { transform: translateX(0); box-shadow: 0 0 10px rgba(255, 255, 255, 0.3); }
  25% { transform: translateX(-4px) rotate(-2deg); box-shadow: 0 0 20px rgba(255, 255, 255, 0.5); }
  75% { transform: translateX(4px) rotate(2deg); box-shadow: 0 0 20px rgba(255, 255, 255, 0.5); }
}

/* --- ESTILOS PARA EL M√ìDULO DE COMPRA (INTEGRADO CON TU TEMA) --- */

/* Contenedor principal del m√≥dulo */
.modulo-compra {
  font-family: "Poppins", system-ui, sans-serif;
  background-color: var(--bg, #ffffff);
  border-radius: var(--card-radius, 16px); /* Usando tu variable de radio */
  padding: 24px;
  max-width: 500px;
  margin: 20px auto;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
  border: 1px solid #f0f0f0;
}

.producto-info h2 {
  font-size: 1.5rem;
  margin: 0 0 8px;
  color: var(--text, #111);
}

.precios {
  display: flex;
  align-items: baseline;
  gap: 12px;
  margin-bottom: 10px;
}

.precio-base {
  text-decoration: line-through;
  color: var(--muted, #999);
  font-size: 1rem;
}

.precio-promo {
  font-size: 1.8rem;
  font-weight: 700;
  color: var(--accent, #FA5D1E); /* Usando tu variable de acento */
}

/* Estilos del formulario */
.formulario-compra {
  display: flex;
  flex-direction: column;
  gap: 5px;
  border-bottom: 1px solid #eee;
  padding-bottom: 1px;
  margin-bottom: 1px;
}

.campo-form {
  display: flex;
  flex-direction: column;
}

.campo-form label {
  font-weight: 600;
  margin-bottom: 8px;
  font-size: 0.9rem;
  color: var(--text, #333);
}

.input-estilizado {
  width: 100%;
  padding: 12px;
  border: 1px solid #ddd;
  border-radius: 8px;
  font-size: 1rem;
  box-sizing: border-box;
  transition: border-color 0.3s, box-shadow 0.3s;
}

.input-estilizado:focus {
  outline: none;
  border-color: var(--accent, #FA5D1E);
  box-shadow: 0 0 0 3px rgba(250, 93, 30, 0.15); /* Sombra con tu color de acento */
}

.campo-codigo {
  display: flex;
  gap: 10px;
}

.campo-codigo input {
  flex-grow: 1;
}

.btn-aplicar {
  padding: 12px 20px;
  border: none;
  background-color: var(--text, #111);
  color: var(--bg, #fff);
  font-weight: 600;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.3s;
}

.btn-aplicar:hover {
  background-color: #333;
}

.mensaje-codigo {
    font-size: 0.85rem;
    margin-top: 6px;
    height: 16px;
}
/* Mantenemos un verde universal para "√©xito", ya que es un color sem√°ntico */
.mensaje-codigo.valido { color: #00b37d; } 
/* Usamos tu color de "error/advertencia" para inv√°lido */
.mensaje-codigo.invalido { color: var(--sun-4, #B03725); } 


/* Estilos del resumen de compra */
.resumen-compra {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.resumen-compra h3 {
  margin: 0 0 8px;
  font-size: 1.2rem;
  border-bottom: 1px solid #eee;
  padding-bottom: 8px;
  margin-top: 0;
}

.linea-resumen, .linea-total {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 1rem;
}

.linea-resumen span:first-child, .linea-total span:first-child {
  color: var(--muted, #555);
}
.linea-resumen span:last-child, .linea-total span:last-child {
  font-weight: 600;
  color: var(--text, #111);
}

.linea-resumen.descuento span:last-child {
  color: #00b37d; /* Verde para el descuento */
}

.linea-total {
  margin-top: 12px;
  padding-top: 12px;
  border-top: 2px solid var(--text, #111);
}

.linea-total span {
  font-size: 1.2rem;
  font-weight: 700;
}

/* Detalle de ahorro */
.detalle-ahorro {
    background-color: #f0fdf4;
    border: 1px solid #bbf7d0;
    border-radius: 8px;
    padding: 16px;
    margin-top: 16px;
}
.detalle-ahorro p { margin: 0 0 10px; font-weight: 600; color: #166534; }
.detalle-ahorro ul { margin: 0; padding-left: 20px; color: #15803d; font-size: 0.9rem; list-style-type: '‚úì '; }
.detalle-ahorro strong { display: block; margin-top: 12px; text-align: right; color: #166534; }
    
  /* -- Pega este nuevo estilo al final de tu CSS -- */
.aviso-promo {
    font-size: 0.9rem;
    color: var(--muted, #555);
    background-color: #fff9f6; /* Un fondo naranja muy sutil */
    border: 1px solid #ffe8de;   /* Un borde naranja muy claro */
    padding: 10px 14px;
    border-radius: 8px;
    margin: 0;
    text-align: center;
}

.aviso-promo strong {
    color: var(--accent, #FA5D1E); /* Usa el color de acento de tu marca */
}

/* -- Pega estos nuevos estilos al final de tu CSS -- */

/* 1. Estilos para el CONTENEDOR de los GIFs */
.media-grid {
  display: flex; /* ¬°La magia de Flexbox para alinear elementos! */
  gap: 12px;   /* Crea un espacio limpio entre los dos GIFs */
  margin-top: 12px; /* Un peque√±o margen superior para separarlo del contenido de arriba */
}

/* 2. Modificaci√≥n para CADA GIF dentro del contenedor */
.media-gif {
  flex: 1; /* Le dice a cada GIF que ocupe el 50% del espacio disponible */
  width: 100%; /* Asegura que el GIF llene su mitad del contenedor */
  min-width: 0; /* Un truco de Flexbox para evitar que los GIFs se desborden */
  height: auto;
  border-radius: var(--card-radius);
  display: block;
  object-fit: cover; /* Hace que el GIF llene el espacio sin deformarse, recortando si es necesario */
}

  </style>

</head>
<body>

  <div class="wrap">
    <header>
      <img src="img/logo.png" alt="Parchados" class="logo">
      <div>
        <div class="brand">Parchados ‚Ä¢ Juntos hacia lo alto</div>
        <div class="small">Equipamiento para tus aventuras en monta√±as y m√°s</div>
      </div>
    </header>

    <!-- HERO -->
    <section class="hero">
      <div class="hero-left">
        <div class="badge">Oferta por tiempo limitado</div>
        <h1>Camina seguro, incluso de noche</h1>
        <p class="lead">Bast√≥n Trekking ajustable ‚Ä¢ Linterna LED ‚Ä¢ Br√∫jula ‚Ä¢ Sistema Anti-Shock ‚Äî perfecto para tus salidas Parchadas.</p>

        <div class="price-row">
          <div class="old-price">$100.000</div>
          <div class="new-price">$87.524</div>
          <div class="small" style="margin-left:auto">Env√≠o incluido ‚Ä¢ Stock limitado</div>
        </div>

        <div class="cta">
          <button class="btn-primary" id="abrirFormulario">üõí Pedir ahora</button>
          <button class="btn-outline" id="detalles">Ver detalles</button>
        </div>

        <div class="countdown" id="countdown">
          <strong>Oferta termina en:</strong>
          <div id="cd-timer" style="display:inline-block;margin-left:10px;font-weight:700"></div>
        </div>
      </div>

      <div class="hero-right">
        <div class="product-image" id="prodImg" style="background-image:url('img/product.jpg');"></div>

        <!-- GALLERY SECTION -->
        <section class="gallery">
          <h2>Explora el bast√≥n en acci√≥n</h2>

          <div class="carousel">
            <button class="prev">&#10094;</button>
            <div class="carousel-track">
              <img src="img/producto1.jpg" alt="Bast√≥n trekking">
              <img src="img/producto2.jpg" alt="Bast√≥n LED">
              <img src="img/producto3.jpg" alt="Bast√≥n Resorte">
              <img src="img/producto4.jpg" alt="Bast√≥n Extensible">
              <img src="img/producto5.jpg" alt="Mango ergon√≥mico">
              <img src="img/producto6.jpg" alt="Br√∫jula integrada">
              <img src="img/producto7.jpg" alt="Detalle LED">
              <img src="img/producto8.jpg" alt="Uso en sendero">
              <img src="img/producto9.jpg" alt="Accesorios del bast√≥n">
              <img src="img/producto10.jpg" alt="Empaque completo">
            </div>
            <button class="next">&#10095;</button>
          </div>
        </section>

        <div style="display:flex;gap:10px;align-items:center;justify-content:space-between">
          <div style="font-weight:700">Bast√≥n Trekking ‚Ä¢ Parchados</div>
          <div class="small">Entrega en todo Colombia ‚Ä¢ Env√≠o incluido</div>
        </div>

        <div style="margin-top:10px" class="small">La informaci√≥n de env√≠o y confirmaci√≥n llegar√° autom√°ticamente despu√©s de hacer tu pedido.</div>
      </div>
    </section>

    <!-- BENEFITS -->
    <section>
      <div class="grid3">
        <div class="card">
          <h4>Aventura Extrema</h4>
          <p class="small">Soporte y estabilidad en terrenos dif√≠ciles. Extensible y resistente ‚Äî pensado para exploradores reales.</p>
        </div>
        <div class="card">
          <h4>Seguridad Nocturna</h4>
          <p class="small">Linterna LED integrada para tus rutas al atardecer o noche. Visibilidad y confianza en cada paso.</p>
        </div>
        <div class="card">
          <h4>Confort Premium</h4>
          <p class="small">Mango ergon√≥mico y sistema anti-shock para que tus manos no sufran en rutas largas.</p>
        </div>
      </div>
    </section>

    <!-- DETAILS + FORM -->
    <section class="details" id="detalles">
      <div class="left">
        <div class="card">
          <h3>Detalles del producto</h3>
          <p class="small">Eje de carbono, linterna LED, br√∫jula integrada, extensi√≥n 50‚Äì110 cm, peso ~320 g. Ideal para trekking, senderismo y viajes.</p>

          <ul class="small" style="margin:10px 0 0 18px">
            <li>Sistema Anti-Shock patentado</li>
            <li>Mango ergon√≥mico con correa ajustable</li>
            <li>Punta en carburo flex para mejor agarre</li>
          </ul>

          <div style="margin-top:12px" class="small">Precio promocional por lanzamiento: <strong>$76.427</strong> ‚Äî env√≠o ya incluido.</div>
          <div style="margin-top:12px" class="small">Promoci√≥n v√°lida por 25 d√≠as.</div>
        </div>
      <!--C√ìDIGO CON LOS DOS GIFS -->
        <div class="media-grid">
          <img src="img/baston.gif" alt="Animaci√≥n del bast√≥n de trekking extensible" class="media-gif">
         <img src="img/baston2.gif" alt="Animaci√≥n de la linterna LED del bast√≥n" class="media-gif">
        </div>

        <div style="margin-top:12px" class="card">
          <h3>¬øPor qu√© comprar con Parchados?</h3>
          <p class="small">Detr√°s de cada producto hay pasi√≥n por la aventura, el movimiento y la naturaleza. Elegimos art√≠culos que nosotros mismos usar√≠amos en nuestras salidas, garantizando calidad.</p>
          <ul class="small" style="margin:10px 0 0 18px">
            <li><strong>Compra protegida:</strong> tus pagos y datos est√°n seguros.</li>
            <li><strong>Garant√≠a de 30 d√≠as:</strong> cubre tanto el env√≠o como la calidad del producto.</li>
            <li><strong>Env√≠os r√°pidos en Bogot√°</strong> y cobertura nacional.</li>
            <li><strong>Soporte directo y humano,</strong> sin bots ni demoras.</li>
            <li><strong>Probado por aventureros reales:</strong> usamos los mismos productos en nuestras salidas.</li>
            <li><strong>Apoyas una comunidad local</strong> que promueve el deporte, la conexi√≥n con la naturaleza y los buenos parches</li>
          </ul>
          <p class="small" style="margin-top:10px">
            üåø Cuando compras con <strong>Parchados</strong>, no solo obtienes un producto: recibes confianza, respaldo y energ√≠a aventurera.
          </p>
        </div>
      </div>

      <!-- REVIEWS SECTION -->
      <section class="reviews" id="reviews">
        <h2>‚≠ê Opiniones de nuestros clientes</h2>

        <!-- General summary -->
        <div class="review-summary">
          <div class="average">
            <span class="avg-score">4.8</span>
            <div class="avg-stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <span class="total-reviews">124 opiniones verificadas</span>
          </div>

          <div class="rating-bars">
            <div class="bar-row">
              <span class="bar-label">5</span>
              <div class="bar">
                <div class="progress" style="width: 85%;"></div>
              </div>
            </div>
            <div class="bar-row">
              <span class="bar-label">4</span>
              <div class="bar">
                <div class="progress" style="width: 12%;"></div>
              </div>
            </div>
            <div class="bar-row">
              <span class="bar-label">3</span>
              <div class="bar">
                <div class="progress" style="width: 2%;"></div>
              </div>
            </div>
            <div class="bar-row">
              <span class="bar-label">2</span>
              <div class="bar">
                <div class="progress" style="width: 1%;"></div>
              </div>
            </div>
            <div class="bar-row">
              <span class="bar-label">1</span>
              <div class="bar">
                <div class="progress" style="width: 0%;"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- COMMENTS WITH PHOTOS -->
        <div class="review visible">
          <div class="review-header">
            <div class="avatar">C</div>
            <div class="review-info">
              <div class="name">Gabriela Jimenez Delzo</div>
              <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
              <div class="purchases">Ha comprado 2 productos</div>
            </div>
          </div>
          <p class="comment">
            Excelente bast√≥n,fiel a la descripci√≥n, comido y f√°cil de usar .
          </p>
          <img src="img/cliente1.jpg" alt="cliente1" class="review-img">
          <div class="useful">
            <button class="btn-like">üëç</button> <span class="likes">23</span> personas encontraron √∫til esto
          </div>
        </div>

        <div class="review visible">
          <div class="review-header">
            <div class="avatar">A</div>
            <div class="review-info">
              <div class="name">Andr√©s P.</div>
              <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê</div>
              <div class="purchases">Ha comprado 2 producto</div>
            </div>
          </div>
          <p class="comment">
            Lleg√≥ r√°pido y bien empacado. ya lo quiero probar recomendado 
          </p>
          <img src="img/cliente2.jpg" alt="cliente2" class="review-img">
          <div class="useful">
            <button class="btn-like">üëç</button> <span class="likes">11</span> personas encontraron √∫til esto
          </div>
        </div>

        <div class="review visible">
          <div class="review-header">
            <div class="avatar">L</div>
            <div class="review-info">
              <div class="name">Laura M.</div>
              <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
              <div class="purchases">Ha comprado 2 productos</div>
            </div>
          </div>
          <p class="comment">
            Muy buen producto la linterna alumbra bastante y el bast√≥n se siente firme.
          </p>
          <img src="img/cliente3.jpg" alt="cliente3" class="review-img">
          <div class="useful">
            <button class="btn-like">üëç</button> <span class="likes">8</span> personas encontraron √∫til esto
          </div>
        </div>

        <!-- Hidden comments at start -->
        <div class="review hidden">
          <div class="review-header">
            <div class="avatar">J</div>
            <div class="review-info">
              <div class="name">Juli√°n S.</div>
              <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
              <div class="purchases">Ha comprado 1 producto</div>
            </div>
          </div>
          <p class="comment">
            Me lleg√≥ en dos d√≠as, muy bien empacado. Lo probare me gusto
          </p>
          <img src="img/cliente4.jpg" alt="cliente4" class="review-img">
          <div class="useful">
            <button class="btn-like">üëç</button> <span class="likes">17</span> personas encontraron √∫til esto
          </div>
        </div>

        <div class="review hidden">
          <div class="review-header">
            <div class="avatar">N</div>
            <div class="review-info">
              <div class="name">Natalia R.</div>
              <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê</div>
              <div class="purchases">Ha comprado 2 productos</div>
            </div>
          </div>
          <p class="comment">
            Lo compr√© para regalar a mi pap√° y para mi buena calidad y cumple con lo prometido
          </p>
          <img src="img/cliente5.jpg" alt="cliente5" class="review-img">
          <div class="useful">
            <button class="btn-like">üëç</button> <span class="likes">6</span> personas encontraron √∫til esto
          </div>
        </div>

        <div class="review hidden">
          <div class="review-header">
            <div class="avatar">S</div>
            <div class="review-info">
              <div class="name">Santiago L.</div>
              <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
              <div class="purchases">Ha comprado 1 productos</div>
            </div>
          </div>
          <p class="comment">
            Todo excelente, comunicaci√≥n r√°pida y producto igual al de las fotos. Lo recomiendo 100%
          </p>
          <img src="img/cliente6.jpg" alt="cliente6" class="review-img">
          <div class="useful">
            <button class="btn-like">üëç</button> <span class="likes">13</span> personas encontraron √∫til esto
          </div>
        </div>

        <div class="show-more">
          <button id="showMoreBtn">Ver m√°s rese√±as ‚ñº</button>
          <button id="showLessBtn" style="display:none;">Ver menos rese√±as ‚ñ≤</button>
        </div>
      </section>

      <!-- FORM -->
      <!-- Blurred background + modal -->
      <div id="modalFormulario" class="modal">
        <!-- INICIO DEL NUEVO CONTENIDO DEL MODAL -->
<div class="modal-contenido">
  <span class="cerrar">&times;</span>

  <!-- M√ìDULO DE C√ÅLCULO DIN√ÅMICO (Parte 1) -->
  <section class="modulo-compra">
    <div class="producto-info">
      <h2>Bast√≥n Trekking Pro con Linterna</h2>
      <div class="precios">
        <span class="precio-base">$100.000</span>
        <span class="precio-promo" id="precio-unitario-display">$87.524</span>
      </div>
      <p class="aviso-promo"><strong>¬°Equipa a tu parche!</strong> Desde la segunda unidad el precio baja un 22%.</p>
    </div>
    
    <div class="formulario-compra">
      <div class="campo-form">
        <label for="cantidad">Cantidad:</label>
        <input type="number" id="cantidad" value="1" min="1" class="input-estilizado">
      </div>

      <div class="campo-form">
        <label for="codigoDescuento">C√≥digo de Descuento:</label>
        <div class="campo-codigo">
          <input type="text" id="codigoDescuento" placeholder="Ej: PARCHADOS123" class="input-estilizado">
          <button id="aplicarCodigoBtn" class="btn-aplicar">Aplicar</button>
        </div>
        <p id="mensajeCodigo" class="mensaje-codigo"></p>
      </div>
    </div>

    <div class="resumen-compra" id="resumenCompra">
      <h3>Resumen de tu Pedido</h3>
      <div class="linea-resumen">
        <span>Producto</span>
        <span id="detalleUnidades">1 unidad</span>
      </div>
      <div class="linea-resumen" id="lineaSubtotal">
        <span>Subtotal</span>
        <span id="valorSubtotal">$87.524</span>
      </div>
      <div class="linea-resumen descuento" id="lineaDescuento" style="display: none;">
        <span>Descuento Cup√≥n (PARCHE17)</span>
        <span id="valorDescuento">-$0</span>
      </div>
      <div class="linea-total">
        <span>Total a Pagar</span>
        <span id="totalCompra">$87.524</span>
      </div>
      <div class="detalle-ahorro" id="cajaAhorro" style="display: none;">
          <p>üéâ ¬°Est√°s ahorrando!</p>
          <ul>
              <li id="ahorroUnidadesAdicionales" style="display: none;"></li>
              <li id="ahorroPorCodigo" style="display: none;"></li>
          </ul>
          <strong>Ahorro Total: <span id="ahorroTotalGeneral">$0</span></strong>
      </div>
    </div>
  </section>

  <!-- FORMULARIO DE ENV√çO (Parte 2) -->
  <div class="specs" style="margin-top: 20px;">
    <h3>Completa tu env√≠o</h3>
    <p class="small">Revisa tu pedido arriba y completa tus datos para finalizar la compra.</p>

    <form id="orderForm">
      <!-- 
        CAMPOS OCULTOS: LA CLAVE DE LA INTEGRACI√ìN
        Estos campos no son visibles para el usuario, pero guardan los datos del
        resumen din√°mico para ser enviados a tu hoja de c√°lculo.
      -->
      <input type="hidden" id="hiddenProduct" name="product" value="Bast√≥n Trekking ‚Ä¢ Parchados">
      <input type="hidden" id="hiddenCantidad" name="cantidad" value="1">
      <input type="hidden" id="hiddenSubtotal" name="subtotal" value="">
      <input type="hidden" id="hiddenDescuento" name="descuento" value="">
      <input type="hidden" id="hiddenTotal" name="totalFinal" value="">
      <input type="hidden" id="hiddenCodigo" name="codigoUsado" value="N/A">

      <!-- Campos visibles del formulario de env√≠o (tu c√≥digo original) -->
      <div class="row">
        <input type="text" name="firstName" placeholder="Nombre" required>
        <input type="text" name="lastName" placeholder="Apellido" required>
      </div>
      <label class="small">Tel√©fono</label>
      <div class="row phone-wrap">
        <select id="country" name="country" required class="flag-select">
          <option value="+57" data-flag="üá®üá¥">üá®üá¥ Colombia (+57)</option>
          <option value="+52" data-flag="üá≤üáΩ">üá≤üáΩ M√©xico (+52)</option>
          <option value="+51" data-flag="üáµüá™">üáµüá™ Per√∫ (+51)</option>
        </select>
        <input type="text" name="phone" placeholder="Ej: 3123456789" required>
      </div>
      <div class="row">
        <input type="email" name="email" placeholder="Correo electr√≥nico" required>
      </div>
      <div class="row">
          <select name="docType" required>
            <option value="" disabled selected>Tipo de documento</option>
            <option value="CC">C√©dula de Ciudadan√≠a</option>
            <option value="CE">C√©dula de Extranjer√≠a</option>
            <option value="NIT">NIT (Empresa)</option>
            <option value="Pasaporte">Pasaporte</option>
            <option value="PPT">Permiso por Protecci√≥n Temporal (PPT)</option>
          </select>
        <input type="text" name="docNumber" placeholder="N√∫mero de documento" required>
      </div>
      <div class="row">
        <select id="department" name="department" required>
          <option value="">Selecciona departamento</option>
                    <option value="Amazonas">Amazonas</option>
                    <option value="Antioquia">Antioquia</option>
                    <option value="Arauca">Arauca</option>
                    <option value="Atl√°ntico">Atl√°ntico</option>
                    <option value="Bogot√° D.C.">Bogot√° D.C.</option>
                    <option value="Bol√≠var">Bol√≠var</option>
                    <option value="Boyac√°">Boyac√°</option>
                    <option value="Caldas">Caldas</option>
                    <option value="Caquet√°">Caquet√°</option>
                    <option value="Casanare">Casanare</option>
                    <option value="Cauca">Cauca</option>
                    <option value="Cesar">Cesar</option>
                    <option value="Choc√≥">Choc√≥</option>
                    <option value="C√≥rdoba">C√≥rdoba</option>
                    <option value="Cundinamarca">Cundinamarca</option>
                    <option value="Guain√≠a">Guain√≠a</option>
                    <option value="Guaviare">Guaviare</option>
                    <option value="Huila">Huila</option>
                    <option value="La Guajira">La Guajira</option>
                    <option value="Magdalena">Magdalena</option>
                    <option value="Meta">Meta</option>
                    <option value="Nari√±o">Nari√±o</option>
                    <option value="Norte de Santander">Norte de Santander</option>
                    <option value="Putumayo">Putumayo</option>
                    <option value="Quind√≠o">Quind√≠o</option>
                    <option value="Risaralda">Risaralda</option>
                    <option value="San Andr√©s y Providencia">San Andr√©s y Providencia</option>
                    <option value="Santander">Santander</option>
                    <option value="Sucre">Sucre</option>
                    <option value="Tolima">Tolima</option>
                    <option value="Valle del Cauca">Valle del Cauca</option>
                    <option value="Vaup√©s">Vaup√©s</option>
                    <option value="Vichada">Vichada</option>
        </select>
      </div>
      <div class="row">
        <select id="city" name="city" required>
          <option value="">Selecciona ciudad</option>
        </select>
      </div>
      <div class="row">
        <input type="text" name="address" placeholder="Direcci√≥n (calle, #, barrio)" required>
      </div>
      <div class="row">
        <input type="text" name="addressExtra" placeholder="Casa, apartamento, piso (info adicional)">
      </div>
      <div class="row"><label class="small">M√©todo de pago</label></div>
      <div class="row" style="margin-bottom:12px">
        <label style="display:flex;gap:8px;align-items:center"><input type="radio" name="payment" value="Contra entrega" checked> Contra entrega</label>
        <label style="display:flex;gap:8px;align-items:center"><input type="radio" name="payment" value="Pago anticipado"> Pago anticipado</label>
      </div>
      <div class="row">
        <textarea name="notes" placeholder="Informaci√≥n adicional (opcional)" rows="3"></textarea>
      </div>
      <div class="row submit-wrap">
        <button type="submit" class="btn-submit">Enviar pedido</button>
        <div class="small">Te confirmamos por WhatsApp en menos de 24h</div>
      </div>
      <div id="formMsg" class="small" style="margin-top:8px;color:green;display:none"></div>
    </form>
  </div>
</div>
<!-- FIN DEL NUEVO CONTENIDO DEL MODAL -->
        </div>
      </div>
    </section>

    <!-- FOOTER 1: TRUST BOX AND COPYRIGHT (PARTIAL) -->
    <footer class="footer-trust">
      <div class="trust-box">
        <span class="check">‚úÖ</span>
        <strong>Compra 100% segura</strong><br>
        <span class="details">Tus datos est√°n protegidos üîí y tu pedido garantizado hasta la entrega.</span>
      </div>
      <div class="small-text">
        ¬© Parchados ‚Ä¢ Juntos hacia lo alto üåÑ
      </div>
    </footer>
  </div> <!-- End of .wrap -->

  <!-- FLOATING BUTTON -->
  <button class="floating-button" id="floatingOrderButton">üõí Pedir ahora</button>

  <!-- FOOTER 2: NAVIGATION AND FULL COPYRIGHT -->
  <footer class="footer-nav-copyright">
    <div class="footer-content-inner">
      <nav>
        <a href='privacidad.html'>Privacidad</a>
        <a href='terminos.html'>T√©rminos</a>
        <a href='envios.html'>Env√≠os</a>
        <a href='contacto.html'>Contacto</a>
      </nav>
      <p>
        ¬© 2025 Parchados ‚Ä¢ Todos los derechos reservados
      </p>
    </div>
  </footer>

  <script>
    /* ====================================================
     * JAVASCRIPT SECTION - CONSOLIDATED AND CLEANED UP
     * ==================================================== */

    /* ============== CONFIGURE HERE ==============
     * REPLACE SCRIPT_URL constant with your Web App (Google Apps Script) URL
     * The Web App must accept POST and save to the sheet.
     * ============================================ */
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyn8swynLjb_TBL4_YID3ZY_2rIhG1LDHCpFck2DoqwFaRBXL9dY5-rLDhw7ZAqU8r6Nw/exec";
    /* ============================================ */

    /* Countdown (25 days from first user load)
     * Saved in localStorage so each visitor has their persistent countdown */
    (function () {
      const KEY = 'parchados_deadline';
      let deadline = localStorage.getItem(KEY);
      if (!deadline) {
        const now = new Date().getTime();
        const ms25d = 25 * 24 * 60 * 60 * 1000;
        deadline = now + ms25d;
        localStorage.setItem(KEY, deadline);
      } else deadline = parseInt(deadline);

      function updateTimer() {
        const now = new Date().getTime();
        const diff = deadline - now;
        if (diff <= 0) {
          document.getElementById('cd-timer').innerText = "¬°Promoci√≥n finalizada!";
          return;
        }
        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const s = Math.floor((diff % (1000 * 60)) / 1000);
        document.getElementById('cd-timer').innerText = d + "d " + h + "h " + m + "m " + s + "s";
      }
      updateTimer();
      setInterval(updateTimer, 1000);
    })();

    /* Departments -> cities (map with main cities by department) */
    const citiesByDept = {
      "Amazonas": ["Leticia"],
      "Antioquia": ["Medell√≠n", "Envigado", "Bello", "Rionegro", "Santa Fe de Antioquia"],
      "Arauca": ["Arauca"],
      "Atl√°ntico": ["Barranquilla", "Sabanalarga", "Soledad"],
      "Bogot√° D.C.": ["Bogot√°"],
      "Bol√≠var": ["Cartagena", "Magangu√©"],
      "Boyac√°": ["Tunja", "Duitama", "Sogamoso"],
      "Caldas": ["Manizales", "La Dorada"],
      "Caquet√°": ["Florencia"],
      "Casanare": ["Yopal", "Aguazul"],
      "Cauca": ["Popay√°n", "Pat√≠a"],
      "Cesar": ["Valledupar"],
      "Choc√≥": ["Quibd√≥"],
      "C√≥rdoba": ["Monter√≠a", "Mo√±itos"],
      "Cundinamarca": ["Soacha", "Zipaquir√°", "Girardot", "Fusagasug√°"],
      "Guain√≠a": ["In√≠rida"],
      "Guaviare": ["San Jos√© del Guaviare"],
      "Huila": ["Neiva", "Pitalito"],
      "La Guajira": ["Riohacha", "Maicao"],
      "Magdalena": ["Santa Marta", "Ci√©naga"],
      "Meta": ["Villavicencio", "Acac√≠as"],
      "Nari√±o": ["Pasto", "Tumaco"],
      "Norte de Santander": ["C√∫cuta", "Oca√±a"],
      "Putumayo": ["Mocoa"],
      "Quind√≠o": ["Armenia"],
      "Risaralda": ["Pereira", "Dosquebradas"],
      "San Andr√©s y Providencia": ["San Andr√©s"],
      "Santander": ["Bucaramanga", "Floridablanca"],
      "Sucre": ["Sincelejo", "Corozal"],
      "Tolima": ["Ibagu√©", "Melgar"],
      "Valle del Cauca": ["Cali", "Palmira", "Buenaventura"],
      "Vaup√©s": ["Mit√∫"],
      "Vichada": ["Puerto Carre√±o"]
    };

    const deptEl = document.getElementById('department');
    const cityEl = document.getElementById('city');
    deptEl.addEventListener('change', e => {
      const val = e.target.value;
      cityEl.innerHTML = '<option value="">Selecciona ciudad</option>';
      if (citiesByDept[val]) {
        citiesByDept[val].forEach(c => {
          const o = document.createElement('option');
          o.value = c;
          o.textContent = c;
          cityEl.appendChild(o);
        });
      }
    });

// --- INICIO DEL C√ìDIGO PARA EL M√ìDULO DE COMPRA DIN√ÅMICO ---
document.addEventListener('DOMContentLoaded', () => {

  // --- CONFIGURACI√ìN DE PRECIOS Y DESCUENTOS ---
  const PRECIO_PROMO_UNIDAD_1 = 87524;
  const PRECIO_UNIDADES_ADICIONALES = 67800;
  const CODIGO_DESCUENTO_VALIDO = "PARCHE17";
  const PRECIO_CON_DESCUENTO_UNIDAD_1 = 72000;

  // --- SELECCI√ìN DE ELEMENTOS DEL DOM ---
  const cantidadInput = document.getElementById('cantidad');
  const codigoInput = document.getElementById('codigoDescuento');
  const aplicarCodigoBtn = document.getElementById('aplicarCodigoBtn');
  const mensajeCodigoEl = document.getElementById('mensajeCodigo');
  
  const detalleUnidadesEl = document.getElementById('detalleUnidades');
  const valorSubtotalEl = document.getElementById('valorSubtotal');
  const lineaDescuentoEl = document.getElementById('lineaDescuento');
  const valorDescuentoEl = document.getElementById('valorDescuento');
  const totalCompraEl = document.getElementById('totalCompra');
  
  const cajaAhorroEl = document.getElementById('cajaAhorro');
  const ahorroUnidadesEl = document.getElementById('ahorroUnidadesAdicionales');
  const ahorroCodigoEl = document.getElementById('ahorroPorCodigo');
  const ahorroTotalGeneralEl = document.getElementById('ahorroTotalGeneral');

  const formatearMoneda = (valor) => {
    return new Intl.NumberFormat('es-CO', {
      style: 'currency',
      currency: 'COP',
      minimumFractionDigits: 0,
      maximumFractionDigits: 0
    }).format(valor);
  };

  const calcularYActualizarResumen = () => {
    const cantidad = parseInt(cantidadInput.value) || 1;
    const codigoIngresado = codigoInput.value.trim().toUpperCase();

    let subtotal = 0;
    let descuentoPorCodigo = 0;
    let ahorroPorUnidades = 0;
    
    const esCodigoValido = codigoIngresado === CODIGO_DESCUENTO_VALIDO;
    if (esCodigoValido) {
      descuentoPorCodigo = PRECIO_PROMO_UNIDAD_1 - PRECIO_CON_DESCUENTO_UNIDAD_1;
    }

    if (cantidad === 1) {
      subtotal = PRECIO_PROMO_UNIDAD_1;
    } else {
      const unidadesAdicionales = cantidad - 1;
      subtotal = PRECIO_PROMO_UNIDAD_1 + (unidadesAdicionales * PRECIO_UNIDADES_ADICIONALES);
      ahorroPorUnidades = unidadesAdicionales * (PRECIO_PROMO_UNIDAD_1 - PRECIO_UNIDADES_ADICIONALES);
    }
    
    const totalFinal = subtotal - descuentoPorCodigo;
    const ahorroTotal = ahorroPorUnidades + descuentoPorCodigo;

    detalleUnidadesEl.textContent = `${cantidad} ${cantidad > 1 ? 'unidades' : 'unidad'}`;
    valorSubtotalEl.textContent = formatearMoneda(subtotal);
    totalCompraEl.textContent = formatearMoneda(totalFinal);
    
    if (esCodigoValido) {
        lineaDescuentoEl.style.display = 'flex';
        valorDescuentoEl.textContent = `-${formatearMoneda(descuentoPorCodigo)}`;
    } else {
        lineaDescuentoEl.style.display = 'none';
    }

    if (ahorroTotal > 0) {
        cajaAhorroEl.style.display = 'block';
        ahorroTotalGeneralEl.textContent = formatearMoneda(ahorroTotal);
        
        if (ahorroPorUnidades > 0) {
            ahorroUnidadesEl.style.display = 'list-item';
            ahorroUnidadesEl.textContent = `Por 2da unidad o m√°s: ${formatearMoneda(ahorroPorUnidades)}`;
        } else {
            ahorroUnidadesEl.style.display = 'none';
        }
        
        if (descuentoPorCodigo > 0) {
            ahorroCodigoEl.style.display = 'list-item';
            ahorroCodigoEl.textContent = `Por cup√≥n "${CODIGO_DESCUENTO_VALIDO}": ${formatearMoneda(descuentoPorCodigo)}`;
        } else {
            ahorroCodigoEl.style.display = 'none';
        }
    } else {
        cajaAhorroEl.style.display = 'none';
    }

    // --- ¬°AQU√ç EST√Å LA MAGIA DE LA INTEGRACI√ìN! ---
    // Actualizamos los campos ocultos del formulario de env√≠o.
    document.getElementById('hiddenCantidad').value = cantidad;
    document.getElementById('hiddenSubtotal').value = formatearMoneda(subtotal);
    document.getElementById('hiddenDescuento').value = formatearMoneda(descuentoPorCodigo);
    document.getElementById('hiddenTotal').value = formatearMoneda(totalFinal);
    document.getElementById('hiddenCodigo').value = esCodigoValido ? codigoIngresado : 'N/A';
  };
  
  const manejarMensajeCodigo = () => {
      const codigoIngresado = codigoInput.value.trim();
      if (codigoIngresado === "") {
          mensajeCodigoEl.textContent = "";
          mensajeCodigoEl.className = 'mensaje-codigo';
          return;
      }
      
      if (codigoIngresado.toUpperCase() === CODIGO_DESCUENTO_VALIDO) {
          mensajeCodigoEl.textContent = "‚úì C√≥digo aplicado correctamente.";
          mensajeCodigoEl.className = 'mensaje-codigo valido';
      } else {
          mensajeCodigoEl.textContent = "‚úó C√≥digo no v√°lido.";
          mensajeCodigoEl.className = 'mensaje-codigo invalido';
      }
  };

  cantidadInput.addEventListener('input', calcularYActualizarResumen);
  aplicarCodigoBtn.addEventListener('click', (e) => {
      e.preventDefault();
      manejarMensajeCodigo();
      calcularYActualizarResumen();
  });
  
  codigoInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
          e.preventDefault();
          aplicarCodigoBtn.click();
      }
  });

  // Llamada inicial cuando se abre el modal
  calcularYActualizarResumen();
});
// --- FIN DEL C√ìDIGO PARA EL M√ìDULO DE COMPRA DIN√ÅMICO ---

    /* FORM SUBMIT -> send to Google Apps Script */
    const form = document.getElementById('orderForm');
    form.addEventListener('submit', async (ev) => {
      ev.preventDefault();
      if (!SCRIPT_URL || SCRIPT_URL.includes("REEMPLAZAR_POR_URL_DE_TU_WEBAPP")) {
        alert("Aun no configuraste la variable SCRIPT_URL en el c√≥digo. Sigue las instrucciones para obtener la URL del Web App.");
        return;
      }

      // 1. Usaremos el objeto FormData directamente, que ya est√° creado.
      const data = new FormData(form);

      // 2. A√±adimos el timestamp manualmente al FormData.
      data.append('timestamp', new Date().toISOString());

      try {
        const res = await fetch(SCRIPT_URL, {
          method: 'POST',
          // 3. ¬°ELIMINAMOS LOS HEADERS! Fetch pondr√° los correctos autom√°ticamente para FormData.
          // 4. ¬°ELIMINAMOS EL JSON.stringify! Enviamos el objeto 'data' directamente.
          body: data
        });
        
        // Google Apps Script a veces devuelve una respuesta que no es JSON puro al redirigir,
        // as√≠ que la procesaremos como texto para evitar errores.
        const responseText = await res.text();
        
        // Asumimos √©xito si la respuesta contiene "success".
        if (responseText.includes('success')) {
          document.getElementById('formMsg').style.display = 'block';
          document.getElementById('formMsg').innerText = "¬°Pedido registrado! En breve te confirmamos por WhatsApp.";
          form.reset();
          setTimeout(() => document.getElementById('formMsg').style.display = 'none', 7000);
        } else {
          // Si no, lanzamos un error con la respuesta que recibimos.
          throw new Error('Error en la respuesta del script: ' + responseText);
        }
      } catch (err) {
        console.error(err);
        alert("Ocurri√≥ un error al enviar. Aseg√∫rate de haber configurado el Web App correctamente.");
      }
    });

    /* SIMPLE CAROUSEL */
    const track = document.querySelector('.carousel-track');
    const slides = Array.from(track.children);
    const prevBtn = document.querySelector('.prev');
    const nextBtn = document.querySelector('.next');

    let currentIndex = 0;

    function updateCarousel() {
      if (slides.length === 0) return; // Prevent errors if no images
      const slideWidth = slides[0].getBoundingClientRect().width;
      track.style.transform = `translateX(-${currentIndex * slideWidth}px)`;
    }

    nextBtn.addEventListener('click', () => {
      currentIndex = (currentIndex + 1) % slides.length;
      updateCarousel();
    });

    prevBtn.addEventListener('click', () => {
      currentIndex = (currentIndex - 1 + slides.length) % slides.length;
      updateCarousel();
    });

    window.addEventListener('resize', updateCarousel);
    // Initial update in case images load differently
    updateCarousel();


    /* MODAL SCRIPT */
    const modal = document.getElementById("modalFormulario");
    const abrirFormularioBtn = document.getElementById("abrirFormulario");
    const floatingOrderButton = document.getElementById("floatingOrderButton"); // New floating button
    const spanCerrarModal = document.querySelector(".cerrar");

    // Function to open the modal
    function openModal() {
      modal.style.display = "block";
    }

    // Function to close the modal
    function closeModal() {
      modal.style.display = "none";
    }

    abrirFormularioBtn.onclick = openModal;
    floatingOrderButton.onclick = openModal; // Assign openModal to the floating button
    spanCerrarModal.onclick = closeModal;

    window.onclick = function (event) {
      if (event.target === modal) {
        closeModal();
      }
    }

    /* Smooth scroll when clicking "Ver detalles" */
    document.getElementById("detalles").addEventListener("click", (e) => {
      e.preventDefault(); // Prevent default anchor jump
      const section = document.getElementById("detalles");
      if (section) {
        section.scrollIntoView({
          behavior: "smooth"
        });
      }
    });

    /* Like button for reviews */
    const likeButtons = document.querySelectorAll(".btn-like");
    likeButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        const span = btn.nextElementSibling;
        let count = parseInt(span.textContent);
        span.textContent = count + 1;
        btn.style.color = "#22c55e"; // Trust green
        btn.disabled = true; // Disable after one click to prevent multiple likes
      });
    });

    /* "Show more/less reviews" buttons */
    const showMoreBtn = document.getElementById("showMoreBtn");
    const showLessBtn = document.getElementById("showLessBtn"); // New button
    const hiddenReviews = document.querySelectorAll(".review.hidden");
    const initialVisibleReviews = 3; // Number of reviews initially visible

    // Hide "Ver menos" button initially if there are no hidden reviews to show
    if (hiddenReviews.length === 0) {
        showMoreBtn.style.display = 'none';
    }


    showMoreBtn.addEventListener("click", () => {
      hiddenReviews.forEach(r => r.classList.remove("hidden"));
      showMoreBtn.style.display = "none";
      showLessBtn.style.display = "inline-block"; // Show "Ver menos" button
    });

    showLessBtn.addEventListener("click", () => {
      // Re-hide reviews beyond the initial visible count
      Array.from(document.querySelectorAll(".review")).slice(initialVisibleReviews).forEach(r => {
        r.classList.add("hidden");
      });
      showMoreBtn.style.display = "inline-block"; // Show "Ver m√°s" button
      showLessBtn.style.display = "none"; // Hide "Ver menos" button
    });

  </script>

</body>
</html>
